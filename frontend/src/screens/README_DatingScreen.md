# DatingScreen - Космические совпадения

## Описание
Экран знакомств с астрологической тематикой, реализованный в стиле Tinder с элементами геймификации и мистическим дизайном.

## Основные функции

### 1. Космический интерфейс
- **Фон**: Градиентный космический фон (тёмно-синий → фиолетовый → чёрный)
- **Звёздное небо**: Анимированные звёзды с эффектом parallax
- **Созвездия**: Полупрозрачные линии созвездий поверх фона (SVG)

### 2. Карточки совпадений
- **Стиль Tinder**: Свайпы влево/вправо для лайков/отказов
- **Glow-рамка**: Светящаяся рамка вокруг карточки
- **Астрологическая информация**:
  - Процент совместимости
  - Знак зодиака с символом
  - Ключевые аспекты (иконки планет)
  - Диаграмма стихий (огонь/вода/земля/воздух)

### 3. Анимации свайпа
- **Индикатор направления**: Показывается при свайпе
- **Цветовая индикация**: Зелёное свечение при лайке, красное при отказе
- **Плавные переходы**: Spring-анимации для возврата в исходное положение

### 4. Механика матча
- **Анимация "Соединение звёзд"**: Две орбиты сходятся и вспыхивают
- **Открытие профиля**: После матча показывается детальная информация
- **Переход в чат**: Кнопка для начала общения

### 5. Космический чат
- **Полупрозрачные пузырьки**: Сообщения с glow-эффектом
- **Астропомощник**: Генерирует icebreaker-фразы на основе синастрии
- **Градиентные кнопки**: Стилизованные элементы управления

## Компоненты

### DatingCard
- Карточка пользователя с астрологической информацией
- Поддержка свайпов через PanGestureHandler
- Анимированные элементы (свечение, масштабирование)
- Диаграммы совместимости и стихий

### MatchAnimation
- Анимация совпадения с двумя вращающимися орбами
- Соединительная линия между орбами
- Текст "Соединение звёзд!"
- Автоматическое скрытие через 3 секунды

### CosmicChat
- Интерфейс чата в космическом стиле
- Астропомощник с предложениями для разговора
- Градиентные пузырьки сообщений
- Анимированные элементы

### ConstellationLines
- SVG-созвездия на фоне
- Мягкая анимация свечения
- Градиентные линии
- Полупрозрачные элементы

## Состояния экрана

### 1. Загрузка
- Shimmer-скелетон для карточек
- Анимированные элементы фона
- Индикатор загрузки

### 2. Основной режим
- Стек карточек (до 3 штук)
- Кнопки действий (лайк/отказ)
- Анимации появления

### 3. Пустое состояние
- Сообщение "Нет новых совпадений"
- Кнопка обновления
- Мистическая иконка

### 4. Чат
- Полноэкранный интерфейс чата
- Астропомощник
- Кнопка закрытия

## API интеграция

### Заглушки данных
```typescript
const mockMatches = [
  {
    id: '1',
    name: 'Анна',
    age: 25,
    zodiacSign: 'Leo',
    compatibility: 85,
    elements: { fire: 70, water: 30, earth: 40, air: 60 },
    keyAspects: ['Солнце в трине', 'Луна в соединении', 'Венера в секстиле'],
  },
  // ... другие совпадения
];
```

### Планируемые API endpoints
- `GET /api/dating/matches` - список совпадений
- `POST /api/dating/match/:id/like` - лайк
- `POST /api/dating/match/:id/reject` - отказ
- `GET /api/dating/users/:id/profile` - профиль пользователя
- WebSocket для чата

## Визуальные эффекты

### Анимации
- **FadeIn/SlideInUp**: Появление элементов
- **Spring**: Плавные переходы
- **Rotation**: Вращение орбов
- **Glow**: Пульсирующее свечение
- **Scale**: Масштабирование при нажатии

### Цветовая схема
- **Основные**: Тёмно-синий, фиолетовый, чёрный
- **Акценты**: Пурпурный (#8B5CF6), синий (#3B82F6)
- **Состояния**: Зелёный (лайк), красный (отказ)
- **Стихии**: Огонь (красный), вода (синий), земля (зелёный), воздух (жёлтый)

### Тени и свечение
- **ShadowColor**: Пурпурный для мистического эффекта
- **TextShadow**: Светящийся текст
- **Glow**: Пульсирующие элементы
- **Elevation**: 3D-эффекты на Android

## Технические детали

### Зависимости
- `react-native-reanimated` - анимации
- `react-native-gesture-handler` - жесты
- `expo-linear-gradient` - градиенты
- `react-native-svg` - векторная графика
- `@expo/vector-icons` - иконки

### Производительность
- Оптимизированные анимации
- Lazy loading карточек
- Эффективное управление состоянием
- Минимальные перерендеры

### Адаптивность
- Responsive дизайн
- Поддержка разных размеров экранов
- Оптимизация для мобильных устройств

## Будущие улучшения

1. **Реальная API интеграция**
2. **WebSocket чат**
3. **Расширенные астрологические расчёты**
4. **Система уведомлений**
5. **Аналитика совместимости**
6. **Видео-звонки**
7. **Групповые чаты**
8. **Система рейтингов**
